{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nexport const refs = {\n  formSearchEl: document.querySelector('.form-search'),\n  galleryListEl: document.querySelector('.gallery-list'),\n  loader: document.querySelector('.loader'),\n};\n\nrefs.loader.classList.add('loader-hidden');\n\nrefs.formSearchEl.addEventListener('submit', e => {\n  e.preventDefault();\n  refs.galleryListEl.innerHTML = '';\n  refs.loader.classList.remove('loader-hidden');\n\n  let searchValue = refs.formSearchEl.elements.search.value.trim();\n\n  fetchImages(searchValue)\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n      return response.json();\n    })\n    .then(data => {\n      if (data.hits.length === 0) {\n        iziToast.show({\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n          backgroundColor: '#ef4040',\n          messageColor: '#fafafb',\n          position: 'topRight',\n          progressBarColor: '#fafafb',\n        });\n        return;\n      }\n      renderImages(data.hits);\n    })\n    .catch(error => console.log(error))\n    .finally(() => {\n      refs.loader.classList.add('loader-hidden');\n    });\n\n  refs.formSearchEl.elements.search.value = '';\n});\n\nexport function fetchImages(searchValue) {\n  const URL = 'https://pixabay.com/api/';\n  const params = new URLSearchParams({\n    key: '44962724-2fcdbdaf7fb299db2b6841432',\n    q: searchValue,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: 'true',\n  });\n\n  return fetch(`${URL}?${params}`);\n}\n\nfunction renderImages(images) {\n  const markup = images\n    .map(\n      ({\n        webformatURL,\n        largeImageURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) => {\n        return `\n           <li class=\"gallery-item\">\n          <a href=\"${largeImageURL}\">\n          <div class=\"image-container\">\n            <img src=\"${webformatURL}\" alt=\"${tags}\" width=\"360\" height=\"200\"> </div>\n            <ul class=\"photo-dsc\">\n               <li > \n                <p class=\"photo-dsc-title\">Likes</p>\n                <p class=\"photo-dsc-text\">${likes}</p>\n              </li>\n               <li > \n                <p class=\"photo-dsc-title\">Views</p>\n                <p class=\"photo-dsc-text\">${views}</p>\n              </li>\n               <li > \n                <p class=\"photo-dsc-title\">Comments</p>\n                <p class=\"photo-dsc-text\">${comments}</p>\n              </li>\n               <li > \n                <p class=\"photo-dsc-title\">Downloads</p>\n                <p class=\"photo-dsc-text\">${downloads}</p>\n              </li>\n            </ul>\n          </a>\n        </li>\n      `;\n      }\n    )\n    .join('');\n\n  refs.galleryListEl.innerHTML = markup;\n  gallery.refresh();\n}\n\nconst gallery = new SimpleLightbox('.gallery-list a', {\n  captionsData: 'alt',\n  captionDelay: 250,\n});\n"],"names":["refs","e","searchValue","fetchImages","response","data","iziToast","renderImages","error","URL","params","images","markup","webformatURL","largeImageURL","tags","likes","views","comments","downloads","gallery","SimpleLightbox"],"mappings":"6vBAKO,MAAMA,EAAO,CAClB,aAAc,SAAS,cAAc,cAAc,EACnD,cAAe,SAAS,cAAc,eAAe,EACrD,OAAQ,SAAS,cAAc,SAAS,CAC1C,EAEAA,EAAK,OAAO,UAAU,IAAI,eAAe,EAEzCA,EAAK,aAAa,iBAAiB,SAAUC,GAAK,CAChDA,EAAE,eAAc,EAChBD,EAAK,cAAc,UAAY,GAC/BA,EAAK,OAAO,UAAU,OAAO,eAAe,EAE5C,IAAIE,EAAcF,EAAK,aAAa,SAAS,OAAO,MAAM,OAE1DG,EAAYD,CAAW,EACpB,KAAKE,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACtB,CAAK,EACA,KAAKC,GAAQ,CACZ,GAAIA,EAAK,KAAK,SAAW,EAAG,CAC1BC,EAAS,KAAK,CACZ,QACE,2EACF,gBAAiB,UACjB,aAAc,UACd,SAAU,WACV,iBAAkB,SAC5B,CAAS,EACD,MACD,CACDC,EAAaF,EAAK,IAAI,CAC5B,CAAK,EACA,MAAMG,GAAS,QAAQ,IAAIA,CAAK,CAAC,EACjC,QAAQ,IAAM,CACbR,EAAK,OAAO,UAAU,IAAI,eAAe,CAC/C,CAAK,EAEHA,EAAK,aAAa,SAAS,OAAO,MAAQ,EAC5C,CAAC,EAEM,SAASG,EAAYD,EAAa,CACvC,MAAMO,EAAM,2BACNC,EAAS,IAAI,gBAAgB,CACjC,IAAK,qCACL,EAAGR,EACH,WAAY,QACZ,YAAa,aACb,WAAY,MAChB,CAAG,EAED,OAAO,MAAM,GAAGO,CAAG,IAAIC,CAAM,EAAE,CACjC,CAEA,SAASH,EAAaI,EAAQ,CAC5B,MAAMC,EAASD,EACZ,IACC,CAAC,CACC,aAAAE,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACR,IACe;AAAA;AAAA,qBAEML,CAAa;AAAA;AAAA,wBAEVD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA;AAAA,4CAINC,CAAK;AAAA;AAAA;AAAA;AAAA,4CAILC,CAAK;AAAA;AAAA;AAAA;AAAA,4CAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,4CAIRC,CAAS;AAAA;AAAA;AAAA;AAAA;AAAA,OAOhD,EACA,KAAK,EAAE,EAEVnB,EAAK,cAAc,UAAYY,EAC/BQ,EAAQ,QAAO,CACjB,CAEA,MAAMA,EAAU,IAAIC,EAAe,kBAAmB,CACpD,aAAc,MACd,aAAc,GAChB,CAAC"}